(()=>{"use strict";async function e(e,t,i){const{props:{initialProps:{csrfToken:r},pageProps:{initialState:{common:{user:n}}}}}=__NEXT_DATA__,o=new Headers({"Content-Type":"application/json","Csrf-Token":r});return n&&o.set("X-Token",n.xToken),fetch("https://playentry.org/graphql/"+e,{method:"POST",headers:o,body:JSON.stringify({query:t,variables:i})}).then((e=>e.json()))}const t=new WeakSet,i=document.body;i&&new MutationObserver((()=>self.next&&"/project/[id]"==next.router.pathname&&document.querySelectorAll("div.e7reuff0 ul").forEach((i=>{const r=i.querySelector("li:last-child");if(r&&t.has(r))return;i.querySelectorAll("li").forEach((e=>{t.has(e)&&e.remove()}));const n=document.createElement("li");t.add(n),i.appendChild(n);const o=n.appendChild(document.createElement("a"));o.role="button",o.textContent="전용 링크 만들기",n.addEventListener("click",(async()=>{const t=document.querySelector(".e7reuff2");t&&(t.classList.remove("css-17nv4r3"),t.classList.add("css-bax6hm"),t.removeAttribute("open"),t.previousElementSibling?.classList.remove("active"));const i=await async function(t){const i=__NEXT_DATA__.props.pageProps.initialState.common.user?.id;if(!i)throw alert("로그인 후 사용 가능합니다."),new Error("not logged in");const r=await async function(t){const{data:i}=await e("CREATE_LECTURE","mutation CREATE_LECTURE($title:String,$categoryCode:String,$description:String,$goals:[String],$difficulty:Int,$requiredTime:Int,$studies:[JSON],$groupId:ID,$isOpen:Boolean){createLecture(title:$title,categoryCode:$categoryCode,description:$description,goals:$goals,difficulty:$difficulty,requiredTime:$requiredTime,studies:$studies,groupId:$groupId,isOpen:$isOpen){status,result}}",{title:" ",categoryCode:"etc",description:" ",goals:[" "],difficulty:1,requiredTime:1,studies:[{injectOption:{objectEditable:!0,pictureeditable:!0,soundeditable:!0,dataTableEnable:!0,sceneEditable:!0,messageEnable:!0,variableEnable:!0,listEnable:!0,functionEnable:!0,programmingMode:0},doneProject:t,availableBlocks:[],hints:[]}]});return i.createLecture.result.id}(t),[n]=await async function(t){const{data:i}=await e("SELECT_LECTURE","query SELECT_LECTURE($id:ID!,$groupId:ID,$studentId:ID){lecture(id:$id,groupId:$groupId,studentId:$studentId){studies{doneProject{shortenUrl}}}}",{id:t});return i.lecture.studies.map((e=>e.doneProject))}(r);return async function(t){const{data:i}=await e("DELETE_LECTURE","mutation DELETE_LECTURE($id:ID!){deleteLecture(id:$id){status,result}}",{id:t});i.deleteLecture.result}(r),n.shortenUrl}(next.router.query.id);prompt("이 링크를 복사하세요.",i)}))})))).observe(i,{childList:!0,subtree:!0})})();