(()=>{"use strict";async function e(e,t,n){const{props:{initialProps:{csrfToken:r},pageProps:{initialState:{common:{user:i}}}}}=__NEXT_DATA__,s=new Headers({"Content-Type":"application/json","Csrf-Token":r});return i&&s.set("X-Token",i.xToken),fetch("https://playentry.org/graphql/"+e,{method:"POST",headers:s,body:JSON.stringify({query:t.trim().replace(/(?<=\()\s*|\s*(?=\))|(?<={)\s*|\s*(?=})|\s*(?={)|(?<=\))\s*(?={)|(?<=:)\s*|(?<=,)\s*/g,"").replace(/\n\s*/g,","),variables:n})}).then((e=>e.json()))}const t=new WeakSet,n=document.body;n&&new MutationObserver((()=>"/project/[id]"==next.router.pathname&&document.querySelectorAll("div.e7reuff0 ul").forEach((n=>{const r=n.querySelector("li:last-child");if(r&&t.has(r))return;n.querySelectorAll("li").forEach((e=>{t.has(e)&&e.remove()}));const i=document.createElement("li");t.add(i),n.appendChild(i);const s=i.appendChild(document.createElement("a"));s.role="button",s.textContent="전용 링크 만들기",i.addEventListener("click",(async()=>{const t=document.querySelector(".e7reuff2");t&&(t.classList.remove("css-17nv4r3"),t.classList.add("css-bax6hm"),t.removeAttribute("open"),t.previousElementSibling?.classList.remove("active"));const n=await async function(t,n){const r=__NEXT_DATA__.props.pageProps.initialState.common.user?.id;if(!r)throw alert("로그인 후 사용 가능합니다."),new Error("not logged in");const i=await async function(t){const{data:n}=await e("CREATE_LECTURE","\n    mutation CREATE_LECTURE(\n      $title: String\n      $categoryCode: String\n      $description: String\n      $goals: [String]\n      $difficulty: Int\n      $requiredTime: Int\n      $studies: [JSON]\n      $groupId: ID\n      $isOpen: Boolean\n    ) {\n      createLecture(\n        title: $title\n        categoryCode: $categoryCode\n        description: $description\n        goals: $goals\n        difficulty: $difficulty\n        requiredTime: $requiredTime\n        studies: $studies\n        groupId: $groupId\n        isOpen: $isOpen\n      ) {\n        status\n        result\n      }\n    }\n  ",{title:" ",categoryCode:"etc",description:" ",goals:[" "],difficulty:1,requiredTime:1,studies:[{injectOption:{objectEditable:!0,pictureeditable:!0,soundeditable:!0,dataTableEnable:!1,sceneEditable:!0,messageEnable:!0,variableEnable:!0,listEnable:!0,functionEnable:!0,programmingMode:0},doneProject:t,availableBlocks:[],hints:[]}]});return n.createLecture.result.id}(t);n?.("study",i);const[s]=await async function(t){const{data:n}=await e("SELECT_LECTURE","\n    query SELECT_LECTURE($id: ID!, $groupId: ID, $studentId: ID) {\n      lecture(id: $id, groupId: $groupId, studentId: $studentId) {\n        studies {\n          doneProject {\n            shortenUrl\n          }\n        }\n      }\n    }\n  ",{id:t});return n.lecture.studies.map((e=>e.doneProject))}(i);return n?.("project",s),async function(t){const{data:n}=await e("DELETE_LECTURE","\n    mutation DELETE_LECTURE($id: ID!) {\n      deleteLecture(id: $id) {\n        status\n        result\n      }\n    }\n  ",{id:t});n.deleteLecture.result}(i),s.shortenUrl}(next.router.query.id);prompt("이 링크를 복사하세요.",n)}))})))).observe(n,{childList:!0,subtree:!0})})();